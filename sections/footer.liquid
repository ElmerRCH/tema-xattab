{% schema %}
{
  "name": "Footer",
  "tag": "footer",
  "class": "site-footer bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-white px-6 py-10",
  "settings": [
    {
      "type": "image_picker",
      "id": "footer_logo",
      "label": "Logo del footer"
    },
    {
      "type": "text",
      "id": "store_description",
      "label": "Descripción de la tienda",
      "default": "Tu tienda confiable de productos de calidad."
    },
    {
      "type": "link_list",
      "id": "footer_menu",
      "label": "Menú del footer"
    },
    {
      "type": "text",
      "id": "address",
      "label": "Dirección",
      "default": "Av. Ejemplo 123, CDMX"
    },
    {
      "type": "text",
      "id": "email",
      "label": "Correo electrónico",
      "default": "contacto@tienda.com"
    },
    {
      "type": "text",
      "id": "phone",
      "label": "Teléfono",
      "default": "+52 123 456 7890"
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Título de boletín",
      "default": "Suscríbete a nuestro boletín"
    },
    {
      "type": "text",
      "id": "newsletter_placeholder",
      "label": "Placeholder del boletín",
      "default": "Ingresa tu correo"
    },
    {
      "type": "text",
      "id": "copyright",
      "label": "Texto legal",
      "default": "© 2025 MiTienda. Todos los derechos reservados."
    }
  ],
  "blocks": [
    {
      "type": "social_link",
      "name": "Red social",
      "settings": [
        {
          "type": "text",
          "id": "platform",
          "label": "Nombre de la red (ej. Instagram)",
          "default": "Instagram"
        },
        {
          "type": "url",
          "id": "url",
          "label": "URL de la red social"
        }
      ]
    }
  ],
  "max_blocks": 5,
  "presets": [
    {
      "name": "Footer"
    }
  ]
}
{% endschema %}

<footer class="grid grid-cols-1 md:grid-cols-4 gap-8">
  <!-- Logo y descripción -->
  <div>
    {% if settings.footer_logo %}
      <img src="{{ settings.footer_logo | image_url: width: 200 }}" alt="Logo" class="mb-4">
    {% endif %}
    <p>{{ settings.store_description }}</p>
  </div>

  <!-- Menú -->
  <div>
    <h4 class="font-semibold mb-2">Enlaces</h4>
    {% if linklists[settings.footer_menu] %}
      <ul class="space-y-1">
        {% for link in linklists[settings.footer_menu].links %}
          <li><a href="{{ link.url }}" class="hover:underline">{{ link.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>

  <!-- Contacto -->
  <div>
    <h4 class="font-semibold mb-2">Contacto</h4>
    <p>{{ settings.address }}</p>
    <p><a href="mailto:{{ settings.email }}">{{ settings.email }}</a></p>
    <p><a href="tel:{{ settings.phone }}">{{ settings.phone }}</a></p>
  </div>

  <!-- Newsletter y redes -->
  <div>
    <h4 class="font-semibold mb-2">{{ settings.newsletter_heading }}</h4>
    <form method="post" action="/contact#footer">
      <input
        type="email"
        name="contact[email]"
        placeholder="{{ settings.newsletter_placeholder }}"
        class="w-full px-3 py-2 mb-2 border border-gray-300 rounded"
        required>
      <button type="submit" class="w-full bg-black text-white py-2 rounded hover:bg-gray-800">
        Suscribirme
      </button>
    </form>

    <!-- Redes sociales -->
    {% if section.blocks.size > 0 %}
      <div class="mt-4 flex space-x-3">
        {% for block in section.blocks %}
          <a href="{{ block.settings.url }}" target="_blank" rel="noopener noreferrer" class="text-lg hover:underline">
            {{ block.settings.platform }}
          </a>
        {% endfor %}
      </div>
    {% endif %}
  </div>

  <!-- Créditos legales -->
  <div class="col-span-full text-center mt-8 text-sm text-gray-500 dark:text-gray-400">
    {{ settings.copyright }}
  </div>
</footer>
